<!DOCTYPE html>
<html>
<body>
<p>请输入两个数字</p>
<form action="/add/" method="get">
    a: <input type="text" id="a" name="a"> <br>
    b: <input type="text" id="b" name="b"> <br>
    <p>result: <span id='result'></span></p>
    <button type="button" id='sum'>提交</button>
</form>


<div id="dict">Ajax 加载字典</div>
<p id="dict_result"></p>

<div id="list">Ajax 加载列表</div>
<p id="list_result"></p>

<a href="/ajax_list/?a=10&b=abc">测试查询字符串</a>


<h1>测试发邮件</h1>
<form action="" method="get">
    subject: <input type="text" id="subject"><br>
    content: <input type="text" id="content"><br>
    <button type="button" id='send'>发送</button>
</form>


<script src="http://apps.bdimg.com/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
    $(document).ready(function(){

      // 求和 a + b
      $("#sum").click(function(){
        var a = $("#a").val();
        var b = $("#b").val();
 
        $.post("/ajax_add/", {'a':a,'b':b}, function(ret){
            $('#result').html(ret.ret);
        })
      });

      // 发送邮件
      $("#send").click(function(){
        var a = $("#subject").val();
        var b = $("#content").val();
 
        $.post("/sendmail/", {'subject':a,'content':b}, function(ret){
            alert(ret["msg"]);
        })
      });
 
      // 列表 list
      $('#list').click(function(){
          $.getJSON('/ajax_list/', {'a':10}, function(ret){
            //返回值 ret 在这里是一个列表
            for (var i = ret.length - 1; i >= 0; i--) {
              // 把 ret 的每一项显示在网页上
              $('#list_result').append(' ' + ret[i])
            };
          })
      })
 
      // 字典 dict
      $('#dict').click(function(){
          $.getJSON('/ajax_dict/',function(ret){
              //返回值 ret 在这里是一个字典
              $('#dict_result').append(ret.twz + '<br>');
              // 也可以用 ret['twz']
          })
      })

        // 用 $.each() 方法代替 for 循环，html 代码（jQuery)
        // $.getJSON('ajax-url-to-json', function(ret) {
        //     $.each(ret, function(i,item){
        //         // i 为索引，item为遍历值
        //     });
        // });
    });
</script>
</body>
</html>